<!DOCTYPE html>
<html lang="zh-tw">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>抽牌首頁</title>
    <script src="js/bootstrap.bundle.js"></script>
    <script src="js/bootstrap.esm.js"></script>
    <script src="js/bootstrap.js"></script>
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/bootstrap.rtl.css">
    <link rel="stylesheet" href="css/bootstrap-grid.css">
    <link rel="stylesheet" href="css/bootstrap-grid.rtl.css">
    <link rel="stylesheet" href="css/bootstrap-reboot.css">
    <link rel="stylesheet" href="css/bootstrap-reboot.rtl.css">
    <link rel="stylesheet" href="css/bootstrap-utilities.css">
    <link rel="stylesheet" href="css/bootstrap-utilities.rtl.css">
    <style>
        .init {
            cursor: pointer;
        }
        .intro {
            cursor: zoom-in;
        }
    </style>
</head>
<body>
<h1></h1>
<div class="container mt-5">
    <div class="row mb-3">
        <div class="col">
            <h2>請抽牌</h2>
        </div>
    </div>
    <div class="row mb-3 d-flex justify-content-center d-md-none">
        <div class="col-auto">
            <img src="#" alt="" class="init" id="card-1-sm" height="98" width="60"
                 onclick="GetCard('card-1-sm')"
                 style="border-radius: 10px;">
        </div>
        <div class="col-auto">
            <img src="" class="init" id="card-2-sm" alt="" height="98" width="60"
                 onclick="GetCard('card-2-sm')"
                 style="border-radius: 10px;">
        </div>
        <div class="col-auto">
            <img src="" class="init" id="card-3-sm" alt="" height="98" width="60"
                 onclick="GetCard('card-3-sm')"
                 style="border-radius: 10px;">
        </div>
    </div>

    <div class="row mb-3 d-md-flex justify-content-between d-none d-lg-none">
        <div class="col-auto">
            <img src="" class="init" id="card-1-md" alt="" height="300" width="200"
                 onclick="GetCard('card-1-md')"
                 style="border-radius: 10px;">
        </div>
        <div class="col-auto">
            <img src="" class="init" id="card-2-md" alt="" height="300" width="200"
                 onclick="GetCard('card-2-md')"
                 style="border-radius: 10px;">
        </div>
        <div class="col-auto">
            <img src="" class="init" id="card-3-md" alt="" height="300" width="200"
                 onclick="GetCard('card-3-md')"
                 style="border-radius: 10px;">
        </div>
    </div>

    <div class="row mb-3 d-lg-flex justify-content-center d-none">
        <div class="col-auto">
            <img src="" class="init" id="card-1-lg" alt="" height="500" width="350"
                 onclick="GetCard('card-1-lg')"
                 style="border-radius: 10px;">
        </div>
        <div class="col-auto">
            <img src="" class="init" id="card-2-lg" alt="" height="500" width="350"
                 onclick="GetCard('card-2-lg')"
                 style="border-radius: 10px;">
        </div>
        <div class="col-auto">
            <img src="" class="init" id="card-3-lg" alt="" height="500" width="350"
                 onclick="GetCard('card-3-lg')"
                 style="border-radius: 10px;">
        </div>
    </div>

    <div class="row mt-5 mb-3 d-flex justify-content-center">
        <div class="col-auto">
            <button name="refresh" class="btn btn-secondary" onclick="reload()">重新抽牌</button>
        </div>
    </div>

</div>

<script>
    const isValid = {
        sm: [0, 0, 0],
        md: [0, 0, 0],
        lg: [0, 0, 0],
    }

    function _getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function GetCard(id) {
        const size = id.split('-')[2];
        const num = id.split('-')[1];
        if (isValid[size][parseInt(num) - 1] === 0) {
            const index = _getRandomInt(1, 49);
            const ele = document.querySelector(`#card-${num}-${size}`);
            ele.src = `img/${index}.jpg`;
            ele.className = 'intro';
            isValid[size][parseInt(num) - 1] = 1;
        }
    }

    function reload() {
        window.location.reload();
    }

    document.addEventListener('DOMContentLoaded', function () {
        document.querySelectorAll(".init").forEach((ele) => {
            ele.src = "img/0.jpg";
        })
    });
</script>
</body>
</html>